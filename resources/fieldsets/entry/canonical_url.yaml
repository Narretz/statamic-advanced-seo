title: 'Canonical URL'
fields:
  -
    handle: section_canonical_url
    field:
      type: section
      instructions: 'Configure the canonical URL settings for this entry.'
      display: 'Canonical URL'
  -
    handle: seo_canonical_type
    field:
      options:
        entry: 'Current Entry'
        current: 'Current Domain'
        external: 'External Domain'
      display: 'Canonical URL'
      type: button_group
      default: entry
      icon: button_group
      instructions: 'Where should the canonical URL for this entry point to.'
      listable: hidden
  -
    handle: seo_canonical_current
    field:
      max_items: 1
      type: entries
      mode: select
      localizable: true
      listable: hidden
      display: 'Canonical URL'
      instructions: 'If this is an entry with duplicate content, link to the entry with the original content.'
      validate:
        - 'required_if:seo_canonical_type,current'
      if:
        seo_canonical_type: 'equals current'
  -
    handle: seo_canonical_external
    field:
      input_type: url
      display: 'Canonical URL'
      type: text
      icon: text
      listable: hidden
      validate:
        - 'required_if:seo_canonical_type,external'
      if:
        seo_canonical_type: 'equals external'
